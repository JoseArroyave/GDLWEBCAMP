$(document).ready(function(){$("#guardar-registro").on("submit",function(e){e.preventDefault();e=$(this).serializeArray();""===e[0].value||""===e[1].value?Swal.fire({icon:"error",title:"Error",text:"No puedes enviar campos vacíos!"}):e[2].value!=e[3].value?Swal.fire({icon:"error",title:"Error",text:"Las contraseñas no coinciden!"}):$.ajax({type:$(this).attr("method"),data:e,url:$(this).attr("action"),dataType:"json",success:function(e){console.log(e),"exito"===e.respuesta?Swal.fire({icon:"success",title:"Exito",text:"Se guardó correctamente"}):Swal.fire({icon:"error",title:"Error",text:"Ya existe el usuario "+e.usuario})}})}),$(".borrar_registro").on("click",function(e){e.preventDefault();var t=$(this).attr("data-id"),r=$(this).attr("data-tipo"),a=$(this).attr("data-name");Swal.fire({title:"¿Está seguro que desea eliminar este registro?",text:"No podrás revertir esta acción!",icon:"warning",showDenyButton:!0,denyButtonText:"No",confirmButtonText:"Sí"}).then(e=>{e.isConfirmed?$.ajax({type:"post",data:{id:t,registro:"eliminar"},url:"modelo-"+r+".php",success:function(e){console.log(e),"exito"===(e=JSON.parse(e)).respuesta?(jQuery('[data-id="'+e.id_eliminado+'"]').parents("tr").remove(),Swal.fire(a+" fue eliminado correctamente","","success")):Swal.fire("Error desconocido","","error")}}):e.isDenied&&Swal.fire("Eliminación interrumpida","","error")})}),$("#login-admin").on("submit",function(e){e.preventDefault();e=$(this).serializeArray();$.ajax({type:$(this).attr("method"),data:e,url:$(this).attr("action"),dataType:"json",success:function(e){console.log(e),"exitoso"===e.respuesta?(Swal.fire({icon:"success",title:"Hola "+e.usuario+",",text:"en un momento serás redirigidx"}),setTimeout(function(){window.location.href="admin-area.php"},2e3)):Swal.fire({icon:"error",title:"Error",text:"Usuario o contraseña incorrecta"})}})}),$("#crear_registro").attr("disabled",!0),$("#repetir_password").on("input",function(){var e=$("#password").val();$(this).val()==e?($("input#password").addClass("is-valid").removeClass("is-invalid"),$("input#repetir_password").addClass("is-valid").removeClass("is-invalid"),$("#resultado_password").text("Las contraseñas son iguales").attr("style","color:green"),$("#crear_registro").attr("disabled",!1),$("label#label_password").attr("style","color:green")):($("input#password").addClass("is-invalid").removeClass("is-valid"),$("input#repetir_password").addClass("is-invalid").removeClass("is-valid"),$("#resultado_password").text("Las contraseñas no son iguales").attr("style","color:red"),$("#crear_registro").attr("disabled",!0),$("label#label_password").attr("style","color:red"))}),$("#superuser").on("change",function(){$("#superuser").prop("checked")?Swal.fire({title:"¿Está seguro que desea proporcionar permisos de SuperUsuario?",showDenyButton:!0,confirmButtonText:"Sí",denyButtonText:"No"}).then(e=>{e.isConfirmed?($("#superuser").prop("checked",!0),Swal.fire("Permisos otorgados!","","success")):e.isDenied&&($("#superuser").prop("checked",!1),Swal.fire("Cambios no guardados","","error"))}):Swal.fire({title:"¿Está seguro que desea retirar los permisos de SuperUsuario?",showDenyButton:!0,confirmButtonText:"Sí",denyButtonText:"No"}).then(e=>{e.isConfirmed?($("#superuser").prop("checked",!1),Swal.fire("Permisos retirados!","","success")):e.isDenied&&($("#superuser").prop("checked",!0),Swal.fire("Cambios no guardados","","error"))})}),$("#guardar-evento").on("submit",function(e){e.preventDefault();e=$(this).serializeArray();$.ajax({type:$(this).attr("method"),data:e,url:$(this).attr("action"),dataType:"json",success:function(e){console.log(e),"exito"===e.respuesta?Swal.fire({icon:"success",title:"Exito",text:"Se guardó correctamente"}):Swal.fire({icon:"error",title:"Error",text:"No su pudo guardar el evento: "+e.usuario})}})}),$(".borrar_evento").on("click",function(e){e.preventDefault();var t=$(this).attr("data-id"),r=$(this).attr("data-tipo"),a=$(this).attr("data-name");Swal.fire({title:"¿Está seguro que desea eliminar este registro?",text:"No podrás revertir esta acción!",icon:"warning",showDenyButton:!0,denyButtonText:"No",confirmButtonText:"Sí"}).then(e=>{e.isConfirmed?$.ajax({type:"post",data:{id:t,evento:"eliminar"},url:"modelo-"+r+".php",success:function(e){console.log(e),"exito"===(e=JSON.parse(e)).respuesta?(jQuery('[data-id="'+e.id_eliminado+'"]').parents("tr").remove(),Swal.fire("Exito",a+" fue eliminado correctamente","success")):Swal.fire("Error desconocido","","error")}}):e.isDenied&&Swal.fire("Eliminación interrumpida","","error")})}),$("#guardar-categoria").on("submit",function(e){e.preventDefault();e=$(this).serializeArray();$.ajax({type:$(this).attr("method"),data:e,url:$(this).attr("action"),dataType:"json",success:function(e){console.log(e),"exito"===e.respuesta?Swal.fire({icon:"success",title:"Exito",text:"Se guardó correctamente"}):Swal.fire({icon:"error",title:"Error",text:"No se pudo guardar la categoría"})}})}),$(".borrar_categoria").on("click",function(e){e.preventDefault();var t=$(this).attr("data-id"),r=$(this).attr("data-tipo"),a=$(this).attr("data-name");Swal.fire({title:"¿Está seguro que desea eliminar este registro?",text:"No podrás revertir esta acción!",icon:"warning",showDenyButton:!0,denyButtonText:"No",confirmButtonText:"Sí"}).then(e=>{e.isConfirmed?$.ajax({type:"post",data:{id:t,categoria:"eliminar"},url:"modelo-"+r+".php",success:function(e){console.log(e),"exito"===(e=JSON.parse(e)).respuesta?(jQuery('[data-id="'+e.id_eliminado+'"]').parents("tr").remove(),Swal.fire("Exito",a+" fue eliminado correctamente","success")):Swal.fire("Error desconocido","","error")}}):e.isDenied&&Swal.fire("Eliminación interrumpida","","error")})}),$(".borrar_invitado").on("click",function(e){e.preventDefault();var t=$(this).attr("data-id"),r=$(this).attr("data-tipo"),a=$(this).attr("data-name");Swal.fire({title:"¿Está seguro que desea eliminar este registro?",text:"No podrás revertir esta acción!",icon:"warning",showDenyButton:!0,denyButtonText:"No",confirmButtonText:"Sí"}).then(e=>{e.isConfirmed?$.ajax({type:"post",data:{id:t,invitado:"eliminar"},url:"modelo-"+r+".php",success:function(e){console.log(e),"exito"===(e=JSON.parse(e)).respuesta?(jQuery('[data-id="'+e.id_eliminado+'"]').parents("tr").remove(),Swal.fire("Exito",a+" fue eliminado correctamente","success")):Swal.fire("Error desconocido","","error")}}):e.isDenied&&Swal.fire("Eliminación interrumpida","","error")})}),$("#guardar-invitado").on("submit",function(e){e.preventDefault();e=new FormData(this);$.ajax({type:$(this).attr("method"),data:e,url:$(this).attr("action"),dataType:"json",contentType:!1,processData:!1,async:!0,cache:!1,success:function(e){console.log(e),"exito"===e.respuesta?Swal.fire({icon:"success",title:"Exito",text:"Se guardó correctamente"}):Swal.fire({icon:"error",title:"Error",text:"No se pudo guardar el invitado"})}})}),$("#guardar-registrado").on("submit",function(e){e.preventDefault();e=$(this).serializeArray();$.ajax({type:$(this).attr("method"),data:e,url:$(this).attr("action"),dataType:"json",success:function(e){console.log(e),"exito"===e.respuesta?Swal.fire({icon:"success",title:"Exito",text:"Se guardó correctamente"}):Swal.fire({icon:"error",title:"Error",text:"No se pudo guardar el registro"})}})}),$(".borrar_registrado").on("click",function(e){e.preventDefault();var t=$(this).attr("data-id"),r=$(this).attr("data-tipo"),a=$(this).attr("data-name");Swal.fire({title:"¿Está seguro que desea eliminar este registro?",text:"No podrás revertir esta acción!",icon:"warning",showDenyButton:!0,denyButtonText:"No",confirmButtonText:"Sí"}).then(e=>{e.isConfirmed?$.ajax({type:"post",data:{id:t,registrado:"eliminar"},url:"modelo-"+r+".php",success:function(e){console.log(e),"exito"===(e=JSON.parse(e)).respuesta?(jQuery('[data-id="'+e.id_eliminado+'"]').parents("tr").remove(),Swal.fire("Exito",a+" fue eliminado correctamente","success")):Swal.fire("Error desconocido","","error")}}):e.isDenied&&Swal.fire("Eliminación interrumpida","","error")})})});